<link rel="import" href="bower_components/polymer/polymer-element.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/polymerfire/firebase-auth.html">

<link rel="import" href="redux-mixin/redux-mixin.html">

<dom-module id="instabeard-signed">
    <template>
        <firebase-auth
            id="auth"
            user="{{user}}"
            status-known="{{statusKnown}}"
            provider="google">
        </firebase-auth>

        <h1>hii [[user.displayName]]</h1>
        <paper-button raised on-tap="logout">Sign out</paper-button>
    </template>
    <script>
        (function instabeardSignedDefinition(customElements){
            'use strict'
            class InstabeardSigned extends ReduxMixin(Polymer.Element) {
                static get is() { return 'instabeard-signed'; }

                static get properties() {
                    return {
                        user: {
                            type: Object,
                            statePath: 'user',
                        }
                    }
                }

                logout(){
                    console.log("logout")
                    return this.$.auth.signOut();
                }
            }

            customElements.define(InstabeardSigned.is, InstabeardSigned)
        })(window.customElements);
    </script>
</dom-module>